name: Show Public IP

on:
  workflow_dispatch:

jobs:
  check-ip:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Continuously get public IP
        shell: bash
        run: |
          while true; do
            IP=$( \
              curl -s https://api.ipify.org || \
              curl -s https://ifconfig.me || \
              curl -s https://icanhazip.com || \
              curl -s https://checkip.amazonaws.com \
            )

            if [[ -z "$IP" ]]; then
              echo "Unable to determine public IP address."
            else
              echo "Public IP: $IP"
            fi

            sleep 2   # adjust interval as needed
          done

